"use strict";!function(e){var n={};function t(t,o){var i=this;i.elem=e(t),i.opts=e.extend({},n,i.elem.data(),o),i.init()}t.prototype.init=function(){var n,t,o,i=this;for(i.oldSelect=i.elem.find(".foswikiDiffSelect[name='oldrev']"),i.newSelect=i.elem.find(".foswikiDiffSelect[name='newrev']"),i.oldSelect.on("change",(function(){i.onChange()})),i.newSelect.on("change",(function(){i.onChange()})),n=i.oldSelect.val(),t=i.newSelect.val(),i.oldSelect.empty(),o=t-1;o>0;o--)e("<option>"+o+"</option>").appendTo(i.oldSelect).prop("selected",o==n);for(i.newSelect.empty(),o=i.opts.maxRev;o>n;o--)e("<option>"+o+"</option>").appendTo(i.newSelect).prop("selected",o==t)},t.prototype.onChange=function(){window.location.href=window.location.pathname+"?oldrev="+this.oldSelect.val()+"&newrev="+this.newSelect.val()},e(".foswikiDiffContainer").livequery((function(){var n=e(this);n.data("diffManager")||n.data("diffManager",new t(this))}))}(jQuery);
